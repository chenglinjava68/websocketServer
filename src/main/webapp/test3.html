
<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8"/>
<title>HTML5热门游戏制作---没有99美元的Impact也行 - 【当耐特】 - 博客园</title>
<link type="text/css" rel="stylesheet" href="/bundles/blog-common.css?v=my4FYfT2lmqb3sakS-rxSQYr2TpdJ4R7fpviWLuq5wg1"/>
<link id="MainCss" type="text/css" rel="stylesheet" href="/skins/Minyx2_Lite/bundle-Minyx2_Lite.css?v=box8Dmmj5G0VFMZyypCbLIqNJsuu5lz6TpJ4OOK0WkE1"/>
<link type="text/css" rel="stylesheet" href="/blog/customcss/64625.css?v=%2fgCqlw0lnqU6PZQNpekXXGTEQOI%3d"/>
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/iamzhanglei/rss"/>
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/iamzhanglei/rsd.xml"/>
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/iamzhanglei/wlwmanifest.xml"/>
<script src="http://common.cnblogs.com/script/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">var currentBlogApp = 'iamzhanglei', cb_enable_mathjax=false;</script>
<script src="/bundles/blog-common.js?v=_F6vMpUraZDFoT85Xf9mf4IazxZUUUCHJBFoubR7iR01" type="text/javascript"></script>
<script src="/skins/Minyx2_Lite/bundle-Minyx2_Lite.js?v=dAK2Rw4GyogXqBvhMZEW0IkYD2kjtuL3y_BKRj-vp4g1" language="javascript" type="text/javascript"></script>
</head>
<body>
<a name="top"></a>


<div id="container">
    <a class="minyx" href="http://www.cnblogs.com/">代码改变世界</a>
    <ul id="topMnu">
        <!-- 统计数据 -->
        <li>
            
                
Posts - 81, 
Articles - 0, 
Comments - 9848
<!---->
            
        </li>
        <!-- 这边可以增加一些链接 -->
        <!-- 博客园 -->
        <li><a href="http://www.cnblogs.com">Cnblogs</a></li>
        <!-- 管理 -->
        <li id="topMnu-dashboard">
            <a id="lnkDashboard" href="http://www.cnblogs.com/iamzhanglei/admin/EditPosts.aspx">Dashboard</a></li>
        <li>
            <a id="lnkLogin" href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http://www.cnblogs.com/iamzhanglei/archive/2012/03/06/2381087.html">Login</a></li>
    </ul>

    <script type="text/javascript">
        var m = window.__blog.topMenuRendered;
        if (m) { m(__$("topMnu")); }
    </script>

    <div id="header">
        <ul id="menu">
            <!-- 首页，当前section加上current类 -->
            <li id="menu-home" class="current">
                <a id="lnkHome" href="http://www.cnblogs.com/iamzhanglei/">Home</a></li>
            <!-- 联系 -->
            <li id="menu-contact">
                <a id="lnkContact" href="http://space.cnblogs.com/msg/send/%e3%80%90%e5%bd%93%e8%80%90%e7%89%b9%e3%80%91">Contact</a></li>
            <!-- 相册 -->
            <li id="menu-gallary">
                <a id="lnkGallery" href="http://www.cnblogs.com/iamzhanglei/gallery.html">Gallery</a></li>
            <!-- Rss订阅 -->
            <li id="rss">
                <a id="lnkRss" href="http://www.cnblogs.com/iamzhanglei/rss">RSS</a></li>
        </ul>
        <div id="newmsg"></div>
        <h1>
            <!-- 主标题 -->
            <a id="lnkBlogTitle" href="http://www.cnblogs.com/iamzhanglei/">当耐特</a>
            <!-- 子标题 -->
            <small>
                </small>
        </h1>
    </div>

    <script type="text/javascript">
        var m = window.__blog.headerRendered;
        if (m) { m(__$("header")); }
    </script>

    <div id="wrapper">
        <div id="content">
            <script type="text/javascript">
                var m = window.__blog.preRenderPosts;
                if (m) { m(); }
            </script>
            

<div class="post" id="post">
    <a name="top"></a>
    <h2><a id="cb_post_title_url" href="http://www.cnblogs.com/iamzhanglei/archive/2012/03/06/2381087.html">HTML5热门游戏制作---没有99美元的Impact也行</a></h2>
    <small>2012-03-06 08:38 by 【当耐特】, <span id="post_view_count">...</span> 阅读, <span id="post_comment_count">...</span> 评论, <a href="#" onclick="AddToWz({0});return false;">收藏</a>,  <a href ="http://i.cnblogs.com/EditPosts.aspx?postid=2381087" rel="nofollow">编辑</a></small>
    <div class="entry">
        <div id="cnblogs_post_body"><h1>
<p>Impact 简介</p>
</h1>
<p><font size="4">Impact is a JavaScript Game Engine that allows you to develop stunning HTML5 Games for desktop and mobile browsers.</font></p>
<p><font size="4">Impact 一款让开发者在桌面浏览器和移动终端浏览器开发优秀的HTML5游戏的javascript游戏引擎。</font></p>
<p><font size="4">官网地址：</font><a href="http://impactjs.com/"><font size="4">http://impactjs.com/</font></a></p>
<p><font size="4">售价：99美元</font></p>
<p><font size="4">其中的最受欢迎且耳熟能详的莫过于下面这款：</font></p>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236341515.png" width="594" height="256" /></p>
<p><font size="4">这是一个打字射击游戏，该游戏被国外很多网站评选为二十款优秀游戏之一。综合分析了一下该款游戏，总体感觉----注重细节。</font></p>
<p>&nbsp;</p>
<h1>游戏技术要素</h1>
<p><font size="4">1.资源加载和进度显示，这HTML5游戏中很重要的一个元素。当然也可以使用loading的方式，如：</font><a href="http://www.cnblogs.com/iamzhanglei/archive/2011/12/07/2279576.html"><font size="4">HTML5实验室【四十一】--怎么把CanvasLoading插件嵌入你的游戏</font></a><font size="4">。或者loading配合进度条，这给玩家的体验最好了。</font></p>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236385263.png" width="201" height="233" /></p>
<p><font size="4">不过还有一种最好的方式就是，预先加载一个无聊的小游戏，然后让玩家打发loading期间的时间。比如新浪微博中的很多微游戏，都提供了loading期间打地鼠的游戏。如下图所示：</font></p>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/20120305223643765.png" width="317" height="283" /></p>
<p><font size="4">下面是游戏加载的进度条，上面是打地鼠游戏。</font></p>
<p>&nbsp;</p>
<h1>菜单</h1>
<p><font size="4">如下图所示：</font></p>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236496616.png" width="340" height="561" /></p>
<p><font size="4">细节如图标注所示，另外文字menu的鼠标事件精确到矩形区域，而不是像素，这点很重要。就像我以前做的那款3D贪吃蛇，鼠标事件精确到文字，这样的用户体验非常不好，应该是立方体。</font></p>
<p>&nbsp;</p>
<h1>爆炸效果</h1>
<p><img style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: left; display: inline;background-image: none;" title="image" border="0" alt="image" align="left" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236508468.png" width="210" height="151" /></p>
<p><img style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: left; display: inline;background-image: none;" title="image" border="0" alt="image" align="left" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236524301.png" width="190" height="139" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: left; display: inline;background-image: none;" title="image" border="0" alt="image" align="left" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236547101.png" width="249" height="148" /></p>
<p><img style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: left; display: inline;background-image: none;" title="image" border="0" alt="image" align="left" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052236581688.png" width="112" height="82" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><font size="4">如图所示，该款游戏的爆炸不是固定不变使用连续的图片。而是利用3张图片，随机运动+旋转组成的，改细节也是一个亮点。</font></p>
<p>&nbsp;</p>
<h1>发射动画</h1>
<p><img style="border-width: 0px; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: left; display: inline;background-image: none;" title="image" border="0" alt="image" align="left" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052237026591.png" width="99" height="32" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><font size="4">如上图所示，在飞船发射子弹的过程当中，不是不动的，而是有一个发射的动画。这在很多射击类游戏中都没有考虑。</font></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1>关卡过度动画及网格动态背景</h1>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052237046393.png" width="265" height="399" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1>不使用Impact</h1>
<p><font size="4">这是我不使用Impact制作的类似的游戏（我也很注重细节</font><img class="wlEmoticon wlEmoticon-smile" alt="微笑" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203052237069260.png" />）：</p>
<h3>加载游戏：</h3>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/2012030600113899.png" width="241" height="61" /></p>
<h3>菜单：</h3>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203060011398048.png" width="229" height="171" /></p>
<h3>&nbsp;</h3>
<h3>扫射与爆炸：</h3>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203060822413790.png" width="357" height="630" /></p>
<h1>网格动态背景</h1>
<p><img style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none;" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/iamzhanglei/201203/201203060822436068.png" width="362" height="626" /></p>
<p><font size="4">当粒子很多的时候，谷歌浏览器也可以达到40帧以上，IE9和IE10表现良好，一直都在<strong>60</strong>帧以上</font>。 </p>
<p><font size="4"></font></p>
<h1>在线演示(AD+J)</h1>
<script src="http://files.cnblogs.com/iamzhanglei/easel.js" type="text/javascript"></script><div style="background-color: #25272b;"><canvas style="border-width: 0px; margin: 0px auto; padding-top: 0px; padding-right: 0px; padding-left: 0px; float: none; display: block;background-image: none; background-color: black;" id="canvas" height="640" width="360">
<div id="nocanvas">To play this game you need a good Browser, like <a href="http://www.opera.com/">Opera</a>, <a href="http://www.google.com/chrome">Chrome</a>, <a href="http://www.iefans.net/">IE9+</a>, <a href="http://www.mozilla.com/firefox/">Firefox</a> or <a href="http://www.apple.com/safari/">Safari</a>. </div>
</canvas></div>
<script src="http://files.cnblogs.com/iamzhanglei/loader.js" type="text/javascript"></script><script src="shootgame2.js" type="text/javascript"></script><p><font size="4">Have Fun!</font></p></div><div id="MySignature"></div>
        <div class="clear"></div>
        <div id="blog_post_info_block">
        <div id="blog_post_info">
        </div>
        <div class="clear"></div>
        <div id="post_next_prev"></div>
    </div>
</div>
    <ul class="postmetadata">
        <li class="icon_cat" id="BlogPostCategory"></li>
        <li class="icon_bullet" id="EntryTag"></li>
    </ul>
</div>
<script type="text/javascript">var allowComments=false,isLogined=false,cb_blogId=64625,cb_entryId=2381087,cb_blogApp=currentBlogApp,cb_blogUserGuid='4d444668-95ef-de11-ba8f-001cf0cd104b',cb_entryCreatedDate='2012/3/6 8:38:00';loadViewCount(cb_entryId);</script>
<script type="text/javascript">
    var m = window.__blog.postRendered;
    if (m) { m(__$("post")); }
</script>
<script type="text/javascript">
    var m = window.__blog.postRenderPosts;
    if (m) { m(); }
</script>
<a name="!comments"></a><div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="开发者的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="opt_under_post"></div>
<script type="text/javascript">
    var enableGoogleAd = canShowAdsense(); var googletag = googletag || {}; googletag.cmd = googletag.cmd || [];
    fixPostBodyFormat();
</script>
<div id="ad_under_post_holder">
<script type='text/javascript'>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function () {
        if (enableGoogleAd) {
            var gads = document.createElement('script');
            gads.async = true;
            gads.type = 'text/javascript';
            var useSSL = 'https:' == document.location.protocol;
            gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
            var node = document.getElementsByTagName('script')[0];
            node.parentNode.insertBefore(gads, node);
        }
    })();
</script>
<script type='text/javascript'>
    try {
        if (enableGoogleAd) {
            googletag.cmd.push(function () {
                googletag.defineSlot('/1090369/cnblogs_blogpost_C1_sitehome', [300, 250], 'div-gpt-ad-1346480159711-0').addService(googletag.pubads());
                googletag.defineSlot('/1090369/cnblogs_blogpost_C2', [468, 60], 'div-gpt-ad-1410860226396-0').addService(googletag.pubads());
                googletag.pubads().enableSingleRequest();
                googletag.enableServices();
            });
        };
    } catch (e) { }
</script>
<div id="google_ad_c1" class="c_ad_block">
    <div id='div-gpt-ad-1346480159711-0' style='width:300px; height:250px;'>
    <script type='text/javascript'>
        try {
            if (enableGoogleAd) {
                googletag.cmd.push(function () { googletag.display('div-gpt-ad-1346480159711-0'); });            
            } else {
                $('#div-gpt-ad-1346480159711-0').hide();
            }
    } catch (e) { }
    </script>
    </div>
</div>
</div>
<div id="under_post_news"></div>
<div id="google_ad_c2" class="c_ad_block">
<div id='div-gpt-ad-1410860226396-0' style='width:468px; height:60px;'>
<script type='text/javascript'>
try {
    if (enableGoogleAd) {
        googletag.cmd.push(function () { googletag.display('div-gpt-ad-1410860226396-0'); });
    } else {
        $('#div-gpt-ad-1346480159711-0').hide();
    }
} catch (e) { }
</script>
</div>
</div>
<div id="under_post_kb"></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
$(function () {
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    setTimeout(function () { incrementViewCount(cb_entryId); }, 200);
});
</script>
</div>

        </div>

        <script type="text/javascript">
            var m = window.__blog.contentRendered;
            if (m) { m(__$("content")); }
        </script>

        <div id="sidebar">
            
<div id="about">
<div>
<h2 id="about_title">About</h2>
<div id="about_body">
<div id="blog-news"></div>
<script type="text/javascript">loadBlogNews();</script>
</div>
</div>
</div>

            <script type="text/javascript">
                var m = window.__blog.aboutRendered;
                if (m) { m(__$("about")); }
            </script>
            
<div id="mySearchWrapper">
    <div id="mySearch">
        <input type="image" src="/skins/Minyx2_Lite/images/btnsearch.gif" id="btnZzk"  class="submit" onclick="zzk_go();return false;"/>
        <label class="lb_search"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="keyword" /></label>
    </div>
</div>

            <script type="text/javascript">
                var m = window.__blog.searchFormRendered;
                if (m) { m(__$("searchform")); }
            </script>
            <div id="sideMain">
            </div>
            <div id="sideRight">
            </div>
            <div id="sideLeft">
            </div>
            
                <div id="sideContainer">
                </div>
                <script type="text/javascript">
                    $.ajax({
                        url: '/' + currentBlogApp + '/mvc/blog/Minyx2_Lite_SideColumn.aspx',
                        data: '{}',
                        type: 'post',
                        dataType: 'text',
                        contentType: 'application/json; charset=utf-8',
                        success: function (data) {
                            if (data) {
                                $("#sideContainer").html(data);
                                loadBlogDefaultCalendar();
                                loadBlogSideBlocks();
                                var m = window.__blog.sideContainerRendered;
                                if (m) { m(__$("sideContainer")); }
                                window.__blog.sidebar.__layout();
                            }
                        }
                    });

                </script>
            
        </div>

        <script type="text/javascript">
            var m = window.__blog.sidebarRendered;
            if (m) { m(__$("sidebar")); }
        </script>

        <div id="footer">
            
<p id="logoFoot">
    <a href="http://www.spiga.com.mx/" title="Agencia Interactiva Spiga">www.spiga.com.mx</a>
</p>
<div class="footText">
<p>
Copyright &copy;2014 【当耐特】
</p>
<p>
<a href="http://www.cnblogs.com">博客园</a>
</p>
</div>
        </div>
    </div>

    <script type="text/javascript">
        var m = window.__blog.wrapperRendered;
        if (m) { m(__$("wrapper")); }
    </script>

</div>
<script type="text/javascript">
    var m = window.__blog.containerRendered;
    if (m) { m(__$("container")); }
</script>
<!--PageEndHtml Block Begin-->
<script type="text/javascript">

    $("#sideRight").css("float", "none").css("width", "100%");
    $("#sideLeft").css("float", "none").css("width", "100%");
setTimeout(function(){$("#bury_count").html("0");$("#div_digg").show();},1000);
  
    var signature = "<div id='EntryTag22'><font style='background-color: #FFCC66'></font>作者：<a href='http://www.cnblogs.com/iamzhanglei' target='_blank'>张磊</a> <br>出处：<a href='http://www.cnblogs.com/iamzhanglei' target='_blank'>http://www.cnblogs.com/iamzhanglei</a><br/>本文版权归【当耐特砖家】和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。</div>";
    $("#cnblogs_post_body").after(signature);
$("#cnblogs_post_body").append('<h3>如果您觉得此文有帮助，可以打赏点钱给我支付宝<a href="https://qr.alipay.com/aphfx1hvlck0tq862c" target="_blank">mhtml5&#64;qq.com</a> ，或扫描二维码<br/><img src="http://htmlcssjs.duapp.com/dnt/alipay.png" ></h3>')
</script>

<div id="roll">
	<div title="回到顶部" id="roll_top">
	</div>
</div>
<!-- JiaThis Button BEGIN -->
<script type="text/javascript" src="http://v2.jiathis.com/code/jiathis_r.js?move=0" charset="utf-8"></script>
<!-- JiaThis Button END -->
<style>
.csharpcode {background-color:#F7E0E0;font-size:13px;}
	#back-to-top{
		position:fixed;
		bottom:130px;
		right:20px;
	}
	#back-to-top a{
		text-align:center;
		text-decoration:none;
		color:#d1d1d1;
		display:block;
		width:80px;
		/*使用CSS3中的transition属性给跳转链接中的文字添加渐变效果*/
		-moz-transition:color 1s; 
		-webkit-transition:color 1s;
		-o-transition:color 1s;
	}
	#back-to-top a:hover{
		color:#979797;
	}
	#back-to-top a span{
		border-radius:6px;
		display:block;
		height:80px;
		width:80px;
		background:url(http://pic002.cnblogs.com/images/2011/36987/2011051823234124.png) no-repeat center center;
		margin-bottom:5px;
		-moz-transition:background 1s;
		-webkit-transition:background 1s;
		-o-transition:background 1s;
	}
	#back-to-top a:hover span{
		background:#979797 url(http://pic002.cnblogs.com/images/2011/36987/2011051823234124.png) no-repeat center center;
	}
</style>
<script type="text/javascript">
      $(document).ready(function () {
          //首先将#back-to-top隐藏
          $("#back-to-top").hide();
          //当滚动条的位置处于距顶部100像素以下时，跳转链接出现，否则消失
          $(function () {
              $(window).scroll(function () {
                  if ($(window).scrollTop() > 100) {
                      $("#back-to-top").fadeIn(1500);
                  }
                  else {
                      $("#back-to-top").fadeOut(1500);
                  }
              });
              //当点击跳转链接后，回到页面顶部位置
              $("#back-to-top").click(function () {
                  $('body,html').animate({ scrollTop: 0 }, 1000);
                  return false;
              });
          });
      });
  </script>
<p id="back-to-top">
	<a href="#top"><span></span></a>
</p>
<script  type="text/javascript">
     function SetFavorite(){
	if( $("#div_digg").length < 1 ){
		setTimeout(SetFavorite, 1000); return;
	}

	$("<div style='padding-bottom: 5px'></div>")
		.append($("<span class='icon_favorite' style='padding-top: 2px; padding-bottom: 2px'></span>"))
		.append($("#green_channel_follow").clone(true).text("关注当耐特砖家")
				.removeAttr("id").css({ "font-weight": "bold", "padding-left": "5px" }))
		.prependTo("#div_digg");
}
 SetFavorite();
</script>
<!--PageEndHtml Block End-->
</body>
</html>
